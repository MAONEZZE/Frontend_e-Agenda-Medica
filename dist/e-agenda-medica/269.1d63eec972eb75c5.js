"use strict";(self.webpackChunke_AgendaMedica=self.webpackChunke_AgendaMedica||[]).push([[269],{1502:(C,Z,c)=>{c.d(Z,{r:()=>l});var t=c(7700),r=c(5879),m=c(5195),n=c(2296),g=c(617),x=c(6385),h=c(2137);let l=(()=>{class s{constructor(u,b){this.dialogRef=u,this.data=b}ngOnInit(){this.abrirDialog()}onNoClick(){this.dialogRef.close()}abrirDialog(){const u=new t.vA;u.width="300px",this.dialogRef.updateSize(u.width)}static#t=this.\u0275fac=function(b){return new(b||s)(r.Y36(t.so),r.Y36(t.WI))};static#a=this.\u0275cmp=r.Xpm({type:s,selectors:[["app-dialog-excluir"]],decls:23,vars:1,consts:[[1,"borda-estilizada"],[1,"header"],["mat-card-title","",1,"text-light"],[1,"d-flex","justify-content-center","mt-2"],[1,"d-flex","justify-content-center"],["mat-dialog-actions","",1,"d-flex","justify-content-end","gap-2"],["appCardHover","","mat-raised-button","","color","accent","cdkFocusInitial","",1,"d-flex","px-2",3,"mat-dialog-close"],[1,"me-1"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"d-flex","px-2"]],template:function(b,E){1&b&&(r.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),r._uU(3,"Exclus\xe3o de registros"),r.qZA()(),r._UZ(4,"mat-divider"),r.TgZ(5,"mat-card-content")(6,"div",3)(7,"h2"),r._uU(8,"Deseja excluir esse registro? "),r.qZA()(),r.TgZ(9,"div",4)(10,"h4"),r._uU(11,"Todos os dados relacionados ser\xe3o apagados"),r.qZA()()(),r._UZ(12,"mat-divider"),r.TgZ(13,"mat-card-footer")(14,"div",5)(15,"button",6)(16,"mat-icon",7),r._uU(17,"check"),r.qZA(),r._uU(18," Sim "),r.qZA(),r.TgZ(19,"button",8)(20,"mat-icon",7),r._uU(21,"keyboard_return"),r.qZA(),r._uU(22," N\xe3o "),r.qZA()()()()),2&b&&(r.xp6(15),r.Q6J("mat-dialog-close",!0))},dependencies:[m.a8,m.dn,m.rt,m.dk,m.n5,n.lW,g.Hw,x.d,t.ZT,t.H8,h.l],styles:[".borda-estilizada[_ngcontent-%COMP%]{border:2px solid #3f51b5}.header[_ngcontent-%COMP%]{background-color:#3f51b5;display:flex;justify-content:center}"]})}return s})()},8269:(C,Z,c)=>{c.d(Z,{h:()=>V,T:()=>I});var t=c(5879),r=c(3403),m=c(7398),n=c(6223),g=c(7700),x=c(1502),h=c(6814),l=c(5195),s=c(2296),d=c(617),u=c(6385);function b(i,_){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-content",12)(2,"p"),t._uU(3),t.qZA()()()),2&i){const a=_.$implicit;t.xp6(3),t.hij("Titulo: ",a,"")}}function E(i,_){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider",9),t.TgZ(2,"span",10),t._uU(3,"Consultas:"),t.qZA(),t.YNc(4,b,4,1,"mat-card",11),t.qZA()),2&i){const a=t.oxw();t.xp6(4),t.Q6J("ngForOf",a.data.registro.titulosConsultas)}}function q(i,_){if(1&i&&(t.TgZ(0,"mat-card")(1,"mat-card-content",12)(2,"p"),t._uU(3),t.qZA()()()),2&i){const a=_.$implicit;t.xp6(3),t.hij("Titulo: ",a,"")}}function D(i,_){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider",9),t.TgZ(2,"span",10),t._uU(3,"Cirurgias:"),t.qZA(),t.YNc(4,q,4,1,"mat-card",11),t.qZA()),2&i){const a=t.oxw();t.xp6(4),t.Q6J("ngForOf",a.data.registro.titulosCirurgias)}}let y=(()=>{class i{constructor(a,e){this.dialogRef=a,this.data=e}ngOnInit(){this.abrirDialog()}onNoClick(){this.dialogRef.close()}abrirDialog(){const a=new g.vA;a.width="300px",a.maxHeight="294x",this.dialogRef.updateSize(a.width,a.maxHeight)}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(g.so),t.Y36(g.WI))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-visualizacao"]],decls:23,vars:7,consts:[[1,"borda-estilizada"],[1,"header"],["mat-card-title","",1,"text-light","mb-0"],[1,"text-light","mb-2"],[1,"mt-2"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"d-flex","px-2"],[1,"me-1"],[1,"mb-3"],[1,"fs-6"],[4,"ngFor","ngForOf"],[1,"mini-cards","mt-2"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",3),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider"),t.TgZ(7,"mat-card-content",4)(8,"h3"),t._uU(9),t.qZA(),t.TgZ(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.YNc(14,E,5,1,"div",5),t.YNc(15,D,5,1,"div",5),t.qZA(),t._UZ(16,"mat-divider",4),t.TgZ(17,"mat-card-footer")(18,"div",6)(19,"button",7)(20,"mat-icon",8),t._uU(21,"keyboard_return"),t.qZA(),t._uU(22," Voltar "),t.qZA()()()()),2&e&&(t.xp6(3),t.Oqu(o.data.registro.nome),t.xp6(2),t.hij("id: ",o.data.registro.id,""),t.xp6(4),t.hij("Crm: ",o.data.registro.crm,""),t.xp6(2),t.hij("Cpf: ",o.data.registro.cpf,""),t.xp6(2),t.hij("Horas Trabalhadas: ",o.data.registro.horasTotaisTrabalhadas,""),t.xp6(1),t.Q6J("ngIf",0!=o.data.registro.titulosConsultas.length),t.xp6(1),t.Q6J("ngIf",0!=o.data.registro.titulosCirurgias.length))},dependencies:[h.sg,h.O5,l.a8,l.dn,l.rt,l.dk,l.$j,l.n5,s.lW,d.Hw,u.d,g.ZT,g.H8],styles:[".borda-estilizada[_ngcontent-%COMP%]{border:2px solid #3f51b5}.header[_ngcontent-%COMP%]{background-color:#3f51b5;display:flex;justify-content:center}.mini-cards[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #3f51b5}"]})}return i})();var O=c(909),f=c(4170),L=c(2137),T=c(8034);function S(i,_){if(1&i&&(t.TgZ(0,"mat-card",15)(1,"mat-card-header",16)(2,"p",17),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content",18)(5,"p",19),t._uU(6),t.qZA(),t.TgZ(7,"p",19),t._uU(8),t.qZA()()()),2&i){const a=_.$implicit,e=_.index;t.xp6(3),t.AsE("",e+1,"\xb0 - ",a.nome,""),t.xp6(3),t.hij("Crm: ",a.crm,""),t.xp6(2),t.hij("Horas Trabalhadas: ",a.horasTotaisTrabalhadas,"")}}let P=(()=>{class i{constructor(a,e,o){this.dialogService=a,this.dialogRef=e,this.data=o,this.dataMaxima=new Date,this.floatLabelControl=new n.NI("auto")}ngOnInit(){this.dialogService.onEnviarlista.asObservable().subscribe(a=>this.medicos=a),this.abrirDialog()}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}onNoClick(){this.dialogRef.close()}abrirDialog(){const a=new g.vA;a.width="300px",this.dialogRef.updateSize(a.width)}enviarDatas(){this.medicos=[];let a=new Date(this.dataI).toISOString(),e=new Date(this.dataT).toISOString();this.dialogService.onEnviarData.emit({data1:a,data2:e})}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(O.x),t.Y36(g.so),t.Y36(g.WI))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-datas"]],decls:29,vars:6,consts:[[1,"borda-estilizada"],[1,"header"],["mat-card-title","",1,"text-light","mb-2"],[1,"mt-4"],["appearance","outline",1,"mat-form",3,"floatLabel"],[3,"rangePicker"],["readonly","","matStartDate","","placeholder","Inicio",3,"ngModel","ngModelChange"],["readonly","","matEndDate","","placeholder","Fim",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["class","mt-3 borda-estilizada",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"d-flex","justify-content-end","gap-2"],["appCardHover","","mat-raised-button","","color","accent","cdkFocusInitial","",1,"d-flex","px-2",3,"click"],[1,"me-1"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"d-flex","px-2"],[1,"mt-3","borda-estilizada"],[1,"header","text-light","mb-0"],[1,"fs-3"],[1,"mt-3"],[1,"fs-6"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3,"Selecione o periodo"),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"mat-card-content",3)(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"Escolha o periodo"),t.qZA(),t.TgZ(9,"mat-date-range-input",5)(10,"input",6),t.NdJ("ngModelChange",function(v){return o.dataI=v}),t.qZA(),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(v){return o.dataT=v}),t.qZA()(),t.TgZ(12,"mat-hint"),t._uU(13,"dd/mm/aaaa \u2013 dd/mm/aaaa"),t.qZA(),t._UZ(14,"mat-datepicker-toggle",8)(15,"mat-date-range-picker",null,9),t.qZA(),t.YNc(17,S,9,4,"mat-card",10),t.qZA(),t._UZ(18,"mat-divider",3),t.TgZ(19,"mat-card-footer")(20,"div",11)(21,"button",12),t.NdJ("click",function(){return o.enviarDatas()}),t.TgZ(22,"mat-icon",13),t._uU(23,"check"),t.qZA(),t._uU(24," Buscar "),t.qZA(),t.TgZ(25,"button",14)(26,"mat-icon",13),t._uU(27,"keyboard_return"),t.qZA(),t._uU(28," Voltar "),t.qZA()()()()),2&e){const p=t.MAs(16);t.xp6(6),t.Q6J("floatLabel",o.getFloatLabelValue()),t.xp6(3),t.Q6J("rangePicker",p),t.xp6(1),t.Q6J("ngModel",o.dataI),t.xp6(1),t.Q6J("ngModel",o.dataT),t.xp6(3),t.Q6J("for",p),t.xp6(3),t.Q6J("ngForOf",o.medicos)}},dependencies:[h.sg,l.a8,l.dn,l.rt,l.dk,l.n5,s.lW,d.Hw,u.d,f.KE,f.hX,f.bx,f.R9,L.l,n.Fj,n.JJ,n.On,T.nW,T.wx,T.zY,T.By,T._g,g.ZT,g.H8],styles:[".borda-estilizada[_ngcontent-%COMP%]{border:2px solid #3f51b5}.header[_ngcontent-%COMP%]{background-color:#3f51b5}.mini-cards[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #3f51b5}"]})}return i})();var F=c(3651),M=c(6412),U=c(2425),A=c(2032),N=c(2596);let J=(()=>{class i{constructor(){this.onEnviarMedico=new t.vpe,this.onEnviarMedicoVisualizacao=new t.vpe}excluir(a){this.onEnviarMedico.emit(a)}visualizar(a){this.onEnviarMedicoVisualizacao.emit(a)}static#t=this.\u0275fac=function(e){return new(e||i)};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-card"]],inputs:{medico:"medico"},outputs:{onEnviarMedico:"onEnviarMedico",onEnviarMedicoVisualizacao:"onEnviarMedicoVisualizacao"},decls:24,vars:5,consts:[[1,"mt-4"],[1,"borda"],["mat-card-title","",1,"fs-2"],[1,"fw-semibold","fs-6"],[1,"mt-3"],[1,"ms-auto","fw-semibold","text-muted"],[1,"d-flex","justify-content-between"],["mat-icon-button","","color","accent","matTooltip","visualizar medico",3,"click"],["mat-icon-button","","color","primary","matTooltip","editar medico",3,"routerLink"],["mat-icon-button","","color","primary","matTooltip","excluir medico",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",3),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-content",4)(7,"h4",5),t._uU(8),t.qZA(),t.TgZ(9,"h4",5),t._uU(10),t.qZA()(),t._UZ(11,"mat-divider",4),t.TgZ(12,"mat-card-actions",6)(13,"div")(14,"button",7),t.NdJ("click",function(){return o.visualizar(o.medico)}),t.TgZ(15,"mat-icon"),t._uU(16,"visibility"),t.qZA()()(),t.TgZ(17,"div")(18,"button",8)(19,"mat-icon"),t._uU(20,"edit"),t.qZA()(),t.TgZ(21,"button",9),t.NdJ("click",function(){return o.excluir(o.medico)}),t.TgZ(22,"mat-icon"),t._uU(23,"delete"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Oqu(o.medico.nome),t.xp6(2),t.hij("Crm: ",o.medico.crm,""),t.xp6(3),t.hij("Qtd de consultas: ",o.medico.qtdConsultas,""),t.xp6(2),t.hij("Qtd de cirurgias: ",o.medico.qtdCirurgias,""),t.xp6(8),t.MGl("routerLink","/medicos/editar/",o.medico.id,""))},dependencies:[r.rH,l.a8,l.hq,l.dn,l.dk,l.$j,l.n5,s.RK,d.Hw,u.d,N.gM],styles:[".borda[_ngcontent-%COMP%]{background:rgb(255,255,255);background:radial-gradient(circle,rgb(255,255,255) 5%,rgb(175,183,255) 80%);padding-left:7%;padding-bottom:3%;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:1px solid rgb(30,0,48)}"]})}return i})();function k(i,_){if(1&i){const a=t.EpF();t.TgZ(0,"div",13)(1,"app-card",14),t.NdJ("onEnviarMedicoVisualizacao",function(o){t.CHM(a);const p=t.oxw();return t.KtG(p.visualizar(o))})("onEnviarMedico",function(o){t.CHM(a);const p=t.oxw();return t.KtG(p.excluir(o))}),t.qZA()()}if(2&i){const a=_.$implicit;t.xp6(1),t.Q6J("medico",a)}}const I=()=>(0,t.f3M)(M.O).selecionarTodos(),H=[{path:"",redirectTo:"listar",pathMatch:"full"},{path:"listar",component:(()=>{class i{constructor(a,e,o,p,v,R){this.dialoService=a,this.overlay=e,this.medicoService=o,this.toastrService=p,this.route=v,this.dialog=R,this.crmBusca="",this.floatLabelControl=new n.NI("auto")}ngOnInit(){this.medicos$=this.route.data.pipe((0,m.U)(a=>a.medicos))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}buscarPorCrm(){this.medicoService.selecionarMedicoPorCrm(this.crmBusca).subscribe(a=>{this.dialog.open(y,{data:{registro:a}})}),this.crmBusca=""}visualizar(a){const e=new g.vA;e.scrollStrategy=this.overlay.scrollStrategies.block(),this.medicoService.selecionarMedicoCompletoPorId(a.id).subscribe(o=>{e.data={registro:o},this.dialog.open(y,e)})}excluir(a){this.dialog.open(x.r,{data:{registro:a.nome}}).afterClosed().subscribe(o=>{1==o&&this.medicoService.excluir(a.id).subscribe({next:()=>this.processarSucessoExclusao(),error:p=>this.processarFalhaExclusao(p)})})}processarSucessoExclusao(){this.toastrService.success("Medico excluido com sucesso","Exclus\xe3o"),this.medicos$=this.medicoService.selecionarTodos()}processarFalhaExclusao(a){this.toastrService.error(a.message,"Error")}buscarMaisTrabalhadores(){this.dialog.open(P),this.dialoService.onEnviarData.asObservable().subscribe(a=>{this.medicoService.selecionarMedicosMaisTrabalharam(a?.data1,a?.data2).subscribe(e=>{0!=e.length?(this.dialoService.onEnviarlista.emit(e),this.toastrService.success("Medicos que trabalharam nesse periodo")):this.toastrService.error("Nenhum medico trabalhou nesse periodo")})})}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(O.x),t.Y36(F.aV),t.Y36(M.O),t.Y36(U._W),t.Y36(r.gz),t.Y36(g.uw))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-listar-medico"]],decls:26,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-10","col-lg-9","mx-auto","mt-5"],[1,"text-md-start"],[1,"fw-bold"],[1,"d-flex","justify-content-between"],[1,"d-grid","d-md-flex","gap-2"],["data-cy","btnAdd","routerLink","/medicos/inserir","color","primary","mat-raised-button",""],["color","primary","mat-raised-button","",3,"click"],["appearance","outline",1,"mat-form",3,"floatLabel"],["type","text","matInput","",3,"ngModel","ngModelChange"],["role","button","color","primary","matSuffix","",3,"click"],["class","col-md-8 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-8","col-lg-4"],[3,"medico","onEnviarMedicoVisualizacao","onEnviarMedico"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Listar Medicos"),t.qZA(),t._UZ(6,"hr"),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"button",7)(10,"mat-icon"),t._uU(11,"add"),t.qZA(),t._uU(12," Novo Medico "),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return o.buscarMaisTrabalhadores()}),t.TgZ(14,"mat-icon"),t._uU(15,"star"),t.qZA(),t._uU(16," Mais Trabalhadores "),t.qZA()(),t.TgZ(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Pesquise por Crm!"),t.qZA(),t.TgZ(20,"input",10),t.NdJ("ngModelChange",function(v){return o.crmBusca=v}),t.qZA(),t.TgZ(21,"mat-icon",11),t.NdJ("click",function(){return o.buscarPorCrm()}),t._uU(22,"search"),t.qZA()()(),t.TgZ(23,"div",1),t.YNc(24,k,2,1,"div",12),t.ALo(25,"async"),t.qZA()()()()),2&e&&(t.xp6(17),t.Q6J("floatLabel",o.getFloatLabelValue()),t.xp6(3),t.Q6J("ngModel",o.crmBusca),t.xp6(4),t.Q6J("ngForOf",t.lcZ(25,3,o.medicos$)))},dependencies:[h.sg,r.rH,s.lW,d.Hw,A.Nt,f.KE,f.hX,f.R9,n.Fj,n.JJ,n.On,J,h.Ov],styles:[".mat-form[_ngcontent-%COMP%]{width:50%;height:50px;padding-left:150px}"]})}return i})(),resolve:{medicos:I}},{path:"inserir",component:(()=>{class i{constructor(a,e,o,p){this.formBuilder=a,this.medicoService=e,this.router=o,this.toastrService=p,this.floatLabelControl=new n.NI("auto")}ngOnInit(){this.form=this.formBuilder.group({nome:new n.NI("",[n.kI.required,n.kI.minLength(3)]),cpf:new n.NI("",[n.kI.required]),crm:new n.NI("",[n.kI.required])})}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}gravar(){if(this.form?.invalid)for(let a of this.form.validate())this.toastrService.warning(a);else this.medicoService.inserir(this.form?.value).subscribe({next:a=>this.processarSucesso(a),error:a=>this.processarFalha(a)})}processarSucesso(a){this.toastrService.success(`O Medico "${a.nome}" cadastrado com sucesso!`,"Sucesso"),this.router.navigate(["/medicos/listar"])}processarFalha(a){this.toastrService.error(a.message,"Erro")}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(M.O),t.Y36(r.F0),t.Y36(U._W))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-inserir-medico"]],decls:40,vars:4,consts:[[1,"container"],[1,"w-50","card-estilo"],[1,"d-flex","justify-content-center"],[1,"fw-bold","text-primary"],[1,"espaco-forms",3,"formGroup","ngSubmit"],[1,"espacamento-inputs"],["appearance","outline",1,"w-100","mb-3",3,"floatLabel"],["data-cy","nome","type","text","matInput","","formControlName","nome"],["data-cy","cpf","type","text","matInput","","mask","999.999.999-99","formControlName","cpf"],["data-cy","crm","type","text","matInput","","formControlName","crm"],[1,"d-flex","justify-content-end","gap-4","p-3"],["data-cy","btnGravar","mat-raised-button","","type","submit","color","accent",1,"px-3"],[1,"me-2"],["mat-stroked-button","","type","button","color","primary","routerLink","/medicos/listar",1,"px-3"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"h1",3),t._uU(4,"Inserir Novo Medico"),t.qZA()(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return o.gravar()}),t.TgZ(6,"mat-card-content"),t._UZ(7,"mat-divider"),t.TgZ(8,"div",5)(9,"div")(10,"mat-form-field",6)(11,"mat-hint"),t._uU(12,"Nome"),t.qZA(),t.TgZ(13,"mat-label"),t._uU(14,"Digite o nome do Medico (m\xednimo 3 caracteres)"),t.qZA(),t._UZ(15,"input",7),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",6)(18,"mat-hint"),t._uU(19,"Cpf"),t.qZA(),t.TgZ(20,"mat-label"),t._uU(21,"xxx.xxx.xxx-xx"),t.qZA(),t._UZ(22,"input",8),t.qZA()(),t.TgZ(23,"div")(24,"mat-form-field",6)(25,"mat-hint"),t._uU(26,"Crm"),t.qZA(),t.TgZ(27,"mat-label"),t._uU(28,"xxxxx-Unidade Federal (SP)"),t.qZA(),t._UZ(29,"input",9),t.qZA()()(),t._UZ(30,"mat-divider"),t.qZA(),t.TgZ(31,"mat-card-footer",10)(32,"button",11)(33,"mat-icon",12),t._uU(34,"download"),t.qZA(),t._uU(35," Gravar "),t.qZA(),t.TgZ(36,"button",13)(37,"mat-icon",12),t._uU(38,"keyboard_return"),t.qZA(),t._uU(39," Voltar "),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("floatLabel",o.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",o.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",o.getFloatLabelValue()))},dependencies:[r.rH,l.a8,l.dn,l.rt,l.dk,s.lW,d.Hw,u.d,A.Nt,f.KE,f.hX,f.bx,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.espacamento-inputs[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;padding-top:5%}.card-estilo[_ngcontent-%COMP%]{border:2px solid #3f51b5}"]})}return i})()},{path:"editar/:id",component:(()=>{class i{constructor(a,e,o,p,v){this.formBuilder=a,this.medicoService=e,this.router=o,this.toastrService=p,this.route=v,this.floatLabelControl=new n.NI("auto")}ngOnInit(){const a=this.route.data.pipe((0,m.U)(e=>e.medico));this.form=this.formBuilder.group({nome:new n.NI("",[n.kI.required,n.kI.minLength(3)]),cpf:new n.NI("",[n.kI.required]),crm:new n.NI("",[n.kI.required])}),a.subscribe(e=>this.form.patchValue(e))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}gravar(){if(this.form?.invalid){for(let e of this.form.validate())this.toastrService.warning(e);return}const a=this.route.snapshot.paramMap.get("id");this.medicoService.editar(a,this.form?.value).subscribe({next:e=>this.processarSucesso(e),error:e=>this.processarFalha(e)})}processarSucesso(a){this.toastrService.success(`O Medico "${a.nome}" alterado com sucesso!`,"Sucesso"),this.router.navigate(["/medicos/listar"])}processarFalha(a){this.toastrService.error(a.message,"Erro")}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(M.O),t.Y36(r.F0),t.Y36(U._W),t.Y36(r.gz))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-editar-medico"]],decls:40,vars:4,consts:[[1,"container"],[1,"w-50","card-estilo"],[1,"d-flex","justify-content-center"],[1,"fw-bold","text-primary"],[1,"espaco-forms",3,"formGroup","ngSubmit"],[1,"espacamento-inputs"],["appearance","outline",1,"w-100","mb-3",3,"floatLabel"],["data-cy","nome","type","text","matInput","","formControlName","nome"],["data-cy","cpf","type","text","matInput","","mask","999.999.999-99","formControlName","cpf"],["data-cy","crm","type","text","matInput","","formControlName","crm"],[1,"d-flex","justify-content-end","gap-4","p-3"],["data-cy","btnGravar","mat-raised-button","","type","submit","color","accent",1,"px-3"],[1,"me-2"],["mat-stroked-button","","type","button","color","primary","routerLink","/medicos/listar",1,"px-3"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"h1",3),t._uU(4,"Editar Medico"),t.qZA()(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return o.gravar()}),t.TgZ(6,"mat-card-content"),t._UZ(7,"mat-divider"),t.TgZ(8,"div",5)(9,"div")(10,"mat-form-field",6)(11,"mat-hint"),t._uU(12,"Nome"),t.qZA(),t.TgZ(13,"mat-label"),t._uU(14,"Digite o nome do Medico (m\xednimo 3 caracteres)"),t.qZA(),t._UZ(15,"input",7),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",6)(18,"mat-hint"),t._uU(19,"Cpf"),t.qZA(),t.TgZ(20,"mat-label"),t._uU(21,"xxx.xxx.xxx-xx"),t.qZA(),t._UZ(22,"input",8),t.qZA()(),t.TgZ(23,"div")(24,"mat-form-field",6)(25,"mat-hint"),t._uU(26,"Crm"),t.qZA(),t.TgZ(27,"mat-label"),t._uU(28,"xxxxx-Unidade Federal (SP)"),t.qZA(),t._UZ(29,"input",9),t.qZA()()(),t._UZ(30,"mat-divider"),t.qZA(),t.TgZ(31,"mat-card-footer",10)(32,"button",11)(33,"mat-icon",12),t._uU(34,"download"),t.qZA(),t._uU(35," Gravar "),t.qZA(),t.TgZ(36,"button",13)(37,"mat-icon",12),t._uU(38,"keyboard_return"),t.qZA(),t._uU(39," Voltar "),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("floatLabel",o.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",o.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",o.getFloatLabelValue()))},dependencies:[r.rH,l.a8,l.dn,l.rt,l.dk,s.lW,d.Hw,u.d,A.Nt,f.KE,f.hX,f.bx,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.espacamento-inputs[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;padding-top:5%}.card-estilo[_ngcontent-%COMP%]{border:2px solid #3f51b5}"]})}return i})(),resolve:{medico:i=>(0,t.f3M)(M.O).selecionarMedicoPorId(i.paramMap.get("id"))}}];let V=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#a=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(H),r.Bz]})}return i})()},909:(C,Z,c)=>{c.d(Z,{x:()=>r});var t=c(5879);let r=(()=>{class m{constructor(){this.onEnviarData=new t.vpe,this.onEnviarlista=new t.vpe}static#t=this.\u0275fac=function(x){return new(x||m)};static#a=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},6412:(C,Z,c)=>{c.d(Z,{O:()=>x});var t=c(8504),r=c(7398),m=c(6306),n=c(5879),g=c(9862);let x=(()=>{class h{constructor(s){this.http=s,this.url="https://localhost:7124/api/medico"}processarErroHttp(s){let d="";return 0==s.error.errors.length?401==s.status?d="O usu\xe1rio n\xe3o est\xe1 autorizado. Fa\xe7a o o login e tente novamente.":400==s.status?d="Falha na requisi\xe7\xe3o do servi\xe7o, verifique se o formulario est\xe1 correto":404==s.status?d="Recurso n\xe3o encontrado":0==s.status?d="Ocorreu um erro ao processar a requisi\xe7\xe3o.":500==s.status&&(d="Ocorreu um erro no servidor."):d=s.error.errors[0],(0,t._)(()=>new Error(d))}inserir(s){return this.http.post(`${this.url}`,s).pipe((0,r.U)(d=>d.dados),(0,m.K)(d=>this.processarErroHttp(d)))}editar(s,d){return this.http.put(`${this.url}/${s}`,d).pipe((0,r.U)(u=>u.dados),(0,m.K)(u=>this.processarErroHttp(u)))}editarPorCrm(s,d){return this.http.put(`${this.url}/crm/${s}`,d).pipe((0,r.U)(u=>u.dados),(0,m.K)(u=>this.processarErroHttp(u)))}excluir(s){return this.http.delete(`${this.url}/${s}`).pipe((0,m.K)(d=>this.processarErroHttp(d)))}selecionarTodos(){return this.http.get(this.url).pipe((0,r.U)(s=>s.dados),(0,m.K)(s=>this.processarErroHttp(s)))}selecionarMedicoPorId(s){return this.http.get(`${this.url}/${s}`).pipe((0,r.U)(d=>d.dados),(0,m.K)(d=>this.processarErroHttp(d)))}selecionarMedicoCompletoPorId(s){return this.http.get(`${this.url}/visualizacao-completa/${s}`).pipe((0,r.U)(d=>d.dados),(0,m.K)(d=>this.processarErroHttp(d)))}selecionarMedicosMaisTrabalharam(s,d){return this.http.get(`${this.url}/medicos-mais-trabalhadores?dataInicio=${s}&dataFinal=${d}`).pipe((0,r.U)(u=>u.dados),(0,m.K)(u=>this.processarErroHttp(u)))}selecionarMedicoPorCrm(s){return this.http.get(`${this.url}/crm/${s}`).pipe((0,r.U)(d=>d.dados),(0,m.K)(d=>this.processarErroHttp(d)))}static#t=this.\u0275fac=function(d){return new(d||h)(n.LFG(g.eN))};static#a=this.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);