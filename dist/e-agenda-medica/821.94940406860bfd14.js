"use strict";(self.webpackChunke_AgendaMedica=self.webpackChunke_AgendaMedica||[]).push([[821],{1821:(rt,_,s)=>{s.r(_),s.d(_,{CirurgiaModule:()=>tt});var p=s(6814),t=s(5879),d=s(3403),l=s(7398),h=s(7700),F=s(1502),U=s(3651),c=s(5195),Z=s(2296),T=s(617),C=s(6385);function L(e,u){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider",9),t.TgZ(2,"span",10),t._uU(3,"Paciente:"),t.qZA(),t.TgZ(4,"mat-card")(5,"mat-card-content",11)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA(),t.TgZ(12,"p"),t._uU(13),t.qZA()()()()),2&e){const i=t.oxw();t.xp6(7),t.hij("Nome: ",i.data.registro.pacienteAtributo.nome,""),t.xp6(2),t.hij("Telefone: ",i.data.registro.pacienteAtributo.telefone,""),t.xp6(2),t.hij("E-mail: ",i.data.registro.pacienteAtributo.email,""),t.xp6(2),t.hij("Qtd. Cirurgias: ",i.data.registro.pacienteAtributo.qtdCirurgias,"")}}function N(e,u){if(1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-content",11)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA()()()),2&e){const i=u.$implicit;t.xp6(3),t.hij("Nome: ",i.nome,""),t.xp6(2),t.hij("Crm: ",i.crm,"")}}function S(e,u){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider",9),t.TgZ(2,"span",10),t._uU(3,"Medicos:"),t.qZA(),t.YNc(4,N,6,2,"mat-card",12),t.qZA()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.data.registro.medicos)}}let J=(()=>{class e{constructor(i,r,a){this.dialogRef=i,this.data=r,this.overlay=a}ngOnInit(){this.abrirDialog()}onNoClick(){this.dialogRef.close()}abrirDialog(){const i=new h.vA;i.width="300px",i.maxHeight="637px",this.dialogRef.updateSize(i.width,i.maxHeight)}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(h.so),t.Y36(h.WI),t.Y36(U.aV))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-visualizacao"]],decls:23,vars:7,consts:[[1,"borda-estilizada"],[1,"header"],["mat-card-title","",1,"text-light","mb-0"],[1,"text-light","mb-2"],[1,"mt-2"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"d-flex","px-2"],[1,"me-1"],[1,"mb-3"],[1,"fs-6"],[1,"mini-cards","mt-2"],[4,"ngFor","ngForOf"]],template:function(r,a){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",3),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider"),t.TgZ(7,"mat-card-content",4)(8,"h3"),t._uU(9),t.qZA(),t.TgZ(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.YNc(14,L,14,4,"div",5),t.YNc(15,S,5,1,"div",5),t.qZA(),t._UZ(16,"mat-divider",4),t.TgZ(17,"mat-card-footer")(18,"div",6)(19,"button",7)(20,"mat-icon",8),t._uU(21,"keyboard_return"),t.qZA(),t._uU(22," Voltar "),t.qZA()()()()),2&r&&(t.xp6(3),t.Oqu(a.data.registro.titulo),t.xp6(2),t.hij("id: ",a.data.registro.id,""),t.xp6(4),t.hij("Data: ",a.data.registro.data,""),t.xp6(2),t.hij("Hora In\xedcio: ",a.data.registro.horaInicio,""),t.xp6(2),t.hij("Hora T\xe9rmino: ",a.data.registro.horaTermino,""),t.xp6(1),t.Q6J("ngIf",null!=a.data.registro.pacienteAtributo||null!=a.data.registro.pacienteAtributo),t.xp6(1),t.Q6J("ngIf",0!=a.data.registro.medicos.length))},dependencies:[p.sg,p.O5,c.a8,c.dn,c.rt,c.dk,c.$j,c.n5,Z.lW,T.Hw,C.d,h.ZT,h.H8],styles:[".borda-estilizada[_ngcontent-%COMP%]{border:2px solid #3f51b5}.header[_ngcontent-%COMP%]{background-color:#3f51b5;display:flex;justify-content:center}.mini-cards[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #3f51b5}"]})}return e})();var H=s(8504),m=s(6306),M=s(9862);let f=(()=>{class e{constructor(i){this.http=i,this.url="https://localhost:7124/api/cirurgia"}processarErroHttp(i){let r="";return 0==i.error.errors.length?401==i.status?r="O usu\xe1rio n\xe3o est\xe1 autorizado. Fa\xe7a o o login e tente novamente.":400==i.status?r="Falha na requisi\xe7\xe3o do servi\xe7o, verifique se o formulario est\xe1 correto":404==i.status?r="Recurso n\xe3o encontrado":0==i.status?r="Ocorreu um erro ao processar a requisi\xe7\xe3o.":500==i.status&&(r="Ocorreu um erro no servidor."):r=i.error.errors[0],(0,H._)(()=>new Error(r))}inserir(i){return this.http.post(`${this.url}`,i).pipe((0,l.U)(r=>r.dados),(0,m.K)(r=>this.processarErroHttp(r)))}editar(i,r){return this.http.put(`${this.url}/${i}`,r).pipe((0,l.U)(a=>a.dados),(0,m.K)(a=>this.processarErroHttp(a)))}excluir(i){return this.http.delete(`${this.url}/${i}`).pipe((0,m.K)(r=>this.processarErroHttp(r)))}selecionarTodos(){return this.http.get(this.url).pipe((0,l.U)(i=>i.dados),(0,m.K)(i=>this.processarErroHttp(i)))}selecionarCirurgiaPorId(i){return this.http.get(`${this.url}/${i}`).pipe((0,l.U)(r=>r.dados),(0,m.K)(r=>this.processarErroHttp(r)))}selecionarCirurgiaCompletaPorId(i){return this.http.get(`${this.url}/visualizacao-completa/${i}`).pipe((0,l.U)(r=>r.dados),(0,m.K)(r=>this.processarErroHttp(r)))}selecionarTodosCirurgiasParaHoje(){return this.http.get(`${this.url}/cirurgias-para-hoje`).pipe((0,l.U)(i=>i.dados),(0,m.K)(i=>this.processarErroHttp(i)))}selecionarCirurgiasFuturas(){return this.http.get(`${this.url}/cirurgias-futuras`).pipe((0,l.U)(i=>i.dados),(0,m.K)(i=>this.processarErroHttp(i)))}selecionarCirurgiasPassadas(){return this.http.get(`${this.url}/cirurgias-passadas`).pipe((0,l.U)(i=>i.dados),(0,m.K)(i=>this.processarErroHttp(i)))}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(M.eN))};static#i=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A=s(2425),j=s(2596);let k=(()=>{class e{constructor(){this.onEnviarCirurgia=new t.vpe,this.onEnviarCirurgiaVisualizacao=new t.vpe}excluir(i){this.onEnviarCirurgia.emit(i)}visualizar(i){this.onEnviarCirurgiaVisualizacao.emit(i)}static#t=this.\u0275fac=function(r){return new(r||e)};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-card"]],inputs:{cirurgia:"cirurgia"},outputs:{onEnviarCirurgia:"onEnviarCirurgia",onEnviarCirurgiaVisualizacao:"onEnviarCirurgiaVisualizacao"},decls:22,vars:4,consts:[[1,"mt-4"],[1,"borda"],["mat-card-title","",1,"fs-3"],[1,"fw-semibold","fs-6"],[1,"mt-3"],[1,"ms-auto","fw-semibold","text-muted"],[1,"d-flex","justify-content-between"],["mat-icon-button","","color","accent","matTooltip","visualizar cirurgia",3,"click"],["mat-icon-button","","color","primary","matTooltip","editar cirurgia",3,"routerLink"],["mat-icon-button","","color","primary","matTooltip","excluir cirurgia",3,"click"]],template:function(r,a){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",3),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-content",4)(7,"h4",5),t._uU(8),t.qZA()(),t._UZ(9,"mat-divider",4),t.TgZ(10,"mat-card-actions",6)(11,"div")(12,"button",7),t.NdJ("click",function(){return a.visualizar(a.cirurgia)}),t.TgZ(13,"mat-icon"),t._uU(14,"visibility"),t.qZA()()(),t.TgZ(15,"div")(16,"button",8)(17,"mat-icon"),t._uU(18,"edit"),t.qZA()(),t.TgZ(19,"button",9),t.NdJ("click",function(){return a.excluir(a.cirurgia)}),t.TgZ(20,"mat-icon"),t._uU(21,"delete"),t.qZA()()()()()),2&r&&(t.xp6(3),t.Oqu(a.cirurgia.titulo),t.xp6(2),t.hij("Data: ",a.cirurgia.data,""),t.xp6(3),t.hij("Horario de incio: ",a.cirurgia.horaInicio,""),t.xp6(8),t.MGl("routerLink","/cirurgias/editar/",a.cirurgia.id,""))},dependencies:[d.rH,c.a8,c.hq,c.dn,c.dk,c.$j,c.n5,Z.RK,T.Hw,C.d,j.gM],styles:[".borda[_ngcontent-%COMP%]{background:rgb(255,255,255);background:radial-gradient(circle,rgb(255,255,255) 5%,rgb(175,183,255) 80%);padding-left:7%;padding-bottom:3%;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:1px solid rgb(30,0,48)}"]})}return e})();function V(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"div",10)(1,"app-card",11),t.NdJ("onEnviarCirurgiaVisualizacao",function(a){t.CHM(i);const n=t.oxw();return t.KtG(n.visualizar(a))})("onEnviarCirurgia",function(a){t.CHM(i);const n=t.oxw();return t.KtG(n.excluir(a))}),t.qZA()()}if(2&e){const i=u.$implicit;t.xp6(1),t.Q6J("cirurgia",i)}}let O=(()=>{class e{constructor(i,r,a,n,b){this.overlay=i,this.cirurgiaService=r,this.toastrService=a,this.route=n,this.dialog=b}ngOnInit(){this.cirurgias$=this.route.data.pipe((0,l.U)(i=>i.cirurgias))}visualizar(i){const r=new h.vA;r.scrollStrategy=this.overlay.scrollStrategies.block(),this.cirurgiaService.selecionarCirurgiaCompletaPorId(i.id).subscribe(a=>{r.data={registro:a},this.dialog.open(J,r)})}excluir(i){this.dialog.open(F.r,{data:{registro:i.titulo}}).afterClosed().subscribe(a=>{1==a&&this.cirurgiaService.excluir(i.id).subscribe({next:()=>this.processarSucessoExclusao(),error:n=>this.processarFalhaExclusao(n)})})}selecionarTodas(){this.cirurgias$=this.cirurgiaService.selecionarTodos()}selecionarParaHoje(){this.cirurgias$=this.cirurgiaService.selecionarTodosCirurgiasParaHoje()}selecionarFuturas(){this.cirurgias$=this.cirurgiaService.selecionarCirurgiasFuturas()}selecionarPassadas(){this.cirurgias$=this.cirurgiaService.selecionarCirurgiasPassadas()}processarSucessoExclusao(){this.toastrService.success("Cirurgia excluida com sucesso","Exclus\xe3o"),this.cirurgias$=this.cirurgiaService.selecionarTodos()}processarFalhaExclusao(i){this.toastrService.error(i.message,"Error")}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(U.aV),t.Y36(f),t.Y36(A._W),t.Y36(d.gz),t.Y36(h.uw))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-listar-cirurgia"]],decls:31,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-10","col-lg-9","mx-auto","mt-5"],[1,"text-md-start"],[1,"fw-bold"],[1,"d-grid","d-md-flex","gap-1"],["routerLink","/cirurgias/inserir","color","primary","mat-raised-button",""],["color","primary","mat-raised-button","",3,"click"],[1,"row","g-3"],["class","col-md-8 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-8","col-lg-4"],[3,"cirurgia","onEnviarCirurgiaVisualizacao","onEnviarCirurgia"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Listar Cirurgia"),t.qZA(),t._UZ(6,"hr"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6)(9,"mat-icon"),t._uU(10,"add"),t.qZA(),t._uU(11," Nova Cirurgia "),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return a.selecionarTodas()}),t.TgZ(13,"mat-icon"),t._uU(14,"format_align_justify"),t.qZA(),t._uU(15," Todas "),t.qZA(),t.TgZ(16,"button",7),t.NdJ("click",function(){return a.selecionarPassadas()}),t.TgZ(17,"mat-icon"),t._uU(18,"today"),t.qZA(),t._uU(19," Passadas "),t.qZA(),t.TgZ(20,"button",7),t.NdJ("click",function(){return a.selecionarParaHoje()}),t.TgZ(21,"mat-icon"),t._uU(22,"event_available"),t.qZA(),t._uU(23," Hoje "),t.qZA(),t.TgZ(24,"button",7),t.NdJ("click",function(){return a.selecionarFuturas()}),t.TgZ(25,"mat-icon"),t._uU(26,"event"),t.qZA(),t._uU(27," Futuras "),t.qZA()(),t.TgZ(28,"div",8),t.YNc(29,V,2,1,"div",9),t.ALo(30,"async"),t.qZA()()()()),2&r&&(t.xp6(29),t.Q6J("ngForOf",t.lcZ(30,1,a.cirurgias$)))},dependencies:[p.sg,d.rH,Z.lW,T.Hw,k,p.Ov]})}return e})();var o=s(6223),y=s(5409),q=s(6412),x=s(2032),g=s(4170),v=s(8034),I=s(3680),E=s(8525);function $(e,u){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=u.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.nome," ")}}function Q(e,u){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=u.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.nome," ")}}let w=(()=>{class e{constructor(i,r,a,n,b,it){this.formBuilder=i,this.cirurgiaService=r,this.toastrService=a,this.router=n,this.pacienteService=b,this.medicoService=it,this.floatLabelControl=new o.NI("auto")}ngOnInit(){this.form=this.formBuilder.group({titulo:new o.NI("",[o.kI.required,o.kI.minLength(5)]),paciente_id:new o.NI("",[o.kI.required]),data:new o.NI(new Date,[o.kI.required]),horaInicio:new o.NI("00:00",[o.kI.required]),horaTermino:new o.NI("00:00",[o.kI.required]),id_medicos:new o.NI([],[o.kI.required])}),this.medicoService.selecionarTodos().subscribe(i=>this.medicos=i),this.pacienteService.selecionarTodos().subscribe(i=>this.pacientes=i)}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}gravar(){if(this.form?.invalid){for(let a of this.form.validate())this.toastrService.warning(a);return}const i=this.form.get("horaTermino")?.value,r=this.form.get("horaInicio")?.value;this.form.get("horaInicio")?.setValue(`${r}:00`),this.form.get("horaTermino")?.setValue(`${i}:00`),this.cirurgiaService.inserir(this.form?.value).subscribe({next:a=>this.processarSucesso(a),error:a=>this.processarFalha(a)})}processarSucesso(i){this.toastrService.success(`A Cirurgia "${i.titulo}" cadastrada com sucesso!`,"Sucesso"),this.router.navigate(["/cirurgias/listar"])}processarFalha(i){this.toastrService.error(i.message,"Erro")}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(o.qu),t.Y36(f),t.Y36(A._W),t.Y36(d.F0),t.Y36(y.d),t.Y36(q.O))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-inserir-cirurgia"]],decls:64,vars:11,consts:[[1,"container"],[1,"w-50","card-estilo"],[1,"d-flex","justify-content-center"],[1,"fw-bold","text-primary"],[1,"espaco-forms",3,"formGroup","ngSubmit"],[1,"espacamento-inputs"],["appearance","outline",1,"w-100","mb-3",3,"floatLabel"],["data-cy","titulo","type","text","matInput","","formControlName","titulo"],["data-cy","selectPaciente","formControlName","paciente_id"],[3,"value",4,"ngFor","ngForOf"],["data-cy","data","readonly","","matInput","","formControlName","data",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["data-cy","horaInicio","type","time","matInput","","formControlName","horaInicio"],["time",""],["data-cy","horaTermino","type","time","matInput","","formControlName","horaTermino"],["data-cy","selectMedico","formControlName","id_medicos","multiple",""],[1,"d-flex","justify-content-end","gap-4","p-3"],["data-cy","btnGravar","mat-raised-button","","type","submit","color","accent",1,"px-3"],[1,"me-2"],["mat-stroked-button","","type","button","color","primary","routerLink","/cirurgias/listar",1,"px-3"],[3,"value"]],template:function(r,a){if(1&r&&(t.TgZ(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"h1",3),t._uU(4,"Inserir Nova Cirurgia"),t.qZA()(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return a.gravar()}),t.TgZ(6,"mat-card-content"),t._UZ(7,"mat-divider"),t.TgZ(8,"div",5)(9,"div")(10,"mat-form-field",6)(11,"mat-hint"),t._uU(12,"Titulo"),t.qZA(),t.TgZ(13,"mat-label"),t._uU(14,"Titulo(m\xednimo 5 caracteres)"),t.qZA(),t._UZ(15,"input",7),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",6)(18,"mat-label"),t._uU(19,"Pacientes"),t.qZA(),t.TgZ(20,"mat-select",8),t.YNc(21,$,2,2,"mat-option",9),t.qZA()()(),t.TgZ(22,"div")(23,"mat-form-field",6)(24,"mat-hint"),t._uU(25,"Data"),t.qZA(),t.TgZ(26,"mat-label"),t._uU(27,"DD/MM/AAAA"),t.qZA(),t._UZ(28,"input",10)(29,"mat-datepicker-toggle",11)(30,"mat-datepicker",null,12),t.qZA()(),t.TgZ(32,"div")(33,"mat-form-field",6)(34,"mat-hint"),t._uU(35,"Hora"),t.qZA(),t.TgZ(36,"mat-label"),t._uU(37,"Hor\xe1rio de In\xedcio"),t.qZA(),t._UZ(38,"input",13,14),t.qZA()(),t.TgZ(40,"div")(41,"mat-form-field",6)(42,"mat-hint"),t._uU(43,"Hora"),t.qZA(),t.TgZ(44,"mat-label"),t._uU(45,"Hor\xe1rio de T\xe9rmino"),t.qZA(),t._UZ(46,"input",15,14),t.qZA()(),t.TgZ(48,"div")(49,"mat-form-field",6)(50,"mat-label"),t._uU(51,"Medicos"),t.qZA(),t.TgZ(52,"mat-select",16),t.YNc(53,Q,2,2,"mat-option",9),t.qZA()()()(),t._UZ(54,"mat-divider"),t.qZA(),t.TgZ(55,"mat-card-footer",17)(56,"button",18)(57,"mat-icon",19),t._uU(58,"download"),t.qZA(),t._uU(59," Gravar "),t.qZA(),t.TgZ(60,"button",20)(61,"mat-icon",19),t._uU(62,"keyboard_return"),t.qZA(),t._uU(63," Voltar "),t.qZA()()()()()),2&r){const n=t.MAs(31);t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(5),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",a.pacientes),t.xp6(2),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(5),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(4),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",a.medicos)}},dependencies:[p.sg,d.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,c.a8,c.dn,c.rt,c.dk,Z.lW,T.Hw,C.d,x.Nt,g.KE,g.hX,g.bx,g.R9,v.Mq,v.hl,v.nW,I.ey,E.gD],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.espacamento-inputs[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;padding-top:5%}.card-estilo[_ngcontent-%COMP%]{border:2px solid #3f51b5}"]})}return e})();function z(e,u){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=u.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.nome," ")}}function Y(e,u){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=u.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.nome," ")}}let P=(()=>{class e{constructor(i,r,a,n,b){this.formBuilder=i,this.cirurgiaService=r,this.toastrService=a,this.router=n,this.route=b,this.floatLabelControl=new o.NI("auto")}ngOnInit(){const i=this.route.data.pipe((0,l.U)(r=>r.cirurgia));this.medicos=this.route.data.pipe((0,l.U)(r=>r.medicos)),this.pacientes=this.route.data.pipe((0,l.U)(r=>r.pacientes)),this.form=this.formBuilder.group({titulo:new o.NI("",[o.kI.required,o.kI.minLength(5)]),paciente_id:new o.NI("",[o.kI.required]),data:new o.NI(null,[o.kI.required]),horaInicio:new o.NI("00:00",[o.kI.required]),horaTermino:new o.NI("00:00",[o.kI.required]),id_Medicos:new o.NI(null,[o.kI.required])}),i.subscribe(r=>this.form.patchValue(r))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}gravar(){if(this.form?.invalid){for(let n of this.form.validate())this.toastrService.warning(n);return}const i=this.form.get("horaTermino")?.value,r=this.form.get("horaInicio")?.value;this.form.get("horaInicio")?.setValue(`${r}:00`),this.form.get("horaTermino")?.setValue(`${i}:00`);const a=this.route.snapshot.paramMap.get("id");this.cirurgiaService.editar(a,this.form?.value).subscribe({next:n=>this.processarSucesso(n),error:n=>this.processarFalha(n)})}processarSucesso(i){this.toastrService.success(`A Cirurgia "${i.titulo}" alterada com sucesso!`,"Sucesso"),this.router.navigate(["/cirurgias/listar"])}processarFalha(i){this.toastrService.error(i.message,"Erro")}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(o.qu),t.Y36(f),t.Y36(A._W),t.Y36(d.F0),t.Y36(d.gz))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-editar-cirurgia"]],decls:66,vars:15,consts:[[1,"container"],[1,"w-50","card-estilo"],[1,"d-flex","justify-content-center"],[1,"fw-bold","text-primary"],[1,"espaco-forms",3,"formGroup","ngSubmit"],[1,"espacamento-inputs"],["appearance","outline",1,"w-100","mb-3",3,"floatLabel"],["data-cy","titulo","type","text","matInput","","formControlName","titulo"],["data-cy","selectPaciente","formControlName","paciente_id"],[3,"value",4,"ngFor","ngForOf"],["data-cy","data","readonly","","matInput","","formControlName","data",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["data-cy","horaInicio","type","time","matInput","","formControlName","horaInicio"],["time",""],["data-cy","horaTermino","type","time","matInput","","formControlName","horaTermino"],["data-cy","selectMedico","formControlName","id_Medicos","multiple",""],[1,"d-flex","justify-content-end","gap-4","p-3"],["data-cy","btnGravar","mat-raised-button","","type","submit","color","accent",1,"px-3"],[1,"me-2"],["mat-stroked-button","","type","button","color","primary","routerLink","/cirurgias/listar",1,"px-3"],[3,"value"]],template:function(r,a){if(1&r&&(t.TgZ(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"h1",3),t._uU(4,"Editar Cirurgia"),t.qZA()(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return a.gravar()}),t.TgZ(6,"mat-card-content"),t._UZ(7,"mat-divider"),t.TgZ(8,"div",5)(9,"div")(10,"mat-form-field",6)(11,"mat-hint"),t._uU(12,"Titulo"),t.qZA(),t.TgZ(13,"mat-label"),t._uU(14,"Titulo(m\xednimo 5 caracteres)"),t.qZA(),t._UZ(15,"input",7),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",6)(18,"mat-label"),t._uU(19,"Pacientes"),t.qZA(),t.TgZ(20,"mat-select",8),t.YNc(21,z,2,2,"mat-option",9),t.ALo(22,"async"),t.qZA()()(),t.TgZ(23,"div")(24,"mat-form-field",6)(25,"mat-hint"),t._uU(26,"Data"),t.qZA(),t.TgZ(27,"mat-label"),t._uU(28,"DD/MM/AAAA"),t.qZA(),t._UZ(29,"input",10)(30,"mat-datepicker-toggle",11)(31,"mat-datepicker",null,12),t.qZA()(),t.TgZ(33,"div")(34,"mat-form-field",6)(35,"mat-hint"),t._uU(36,"Hora"),t.qZA(),t.TgZ(37,"mat-label"),t._uU(38,"Hor\xe1rio de In\xedcio"),t.qZA(),t._UZ(39,"input",13,14),t.qZA()(),t.TgZ(41,"div")(42,"mat-form-field",6)(43,"mat-hint"),t._uU(44,"Hora"),t.qZA(),t.TgZ(45,"mat-label"),t._uU(46,"Hor\xe1rio de T\xe9rmino"),t.qZA(),t._UZ(47,"input",15,14),t.qZA()(),t.TgZ(49,"div")(50,"mat-form-field",6)(51,"mat-label"),t._uU(52,"Medicos"),t.qZA(),t.TgZ(53,"mat-select",16),t.YNc(54,Y,2,2,"mat-option",9),t.ALo(55,"async"),t.qZA()()()(),t._UZ(56,"mat-divider"),t.qZA(),t.TgZ(57,"mat-card-footer",17)(58,"button",18)(59,"mat-icon",19),t._uU(60,"download"),t.qZA(),t._uU(61," Gravar "),t.qZA(),t.TgZ(62,"button",20)(63,"mat-icon",19),t._uU(64,"keyboard_return"),t.qZA(),t._uU(65," Voltar "),t.qZA()()()()()),2&r){const n=t.MAs(32);t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(5),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",t.lcZ(22,11,a.pacientes)),t.xp6(3),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(5),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(4),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",a.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",t.lcZ(55,13,a.medicos))}},dependencies:[p.sg,d.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,c.a8,c.dn,c.rt,c.dk,Z.lW,T.Hw,C.d,x.Nt,g.KE,g.hX,g.bx,g.R9,v.Mq,v.hl,v.nW,I.ey,E.gD,p.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.espacamento-inputs[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;padding-top:5%}.card-estilo[_ngcontent-%COMP%]{border:2px solid #3f51b5}"]})}return e})();var D=s(8269),K=s(2954);const W=[{path:"",redirectTo:"listar",pathMatch:"full"},{path:"listar",component:O,resolve:{cirurgias:()=>(0,t.f3M)(f).selecionarTodos()}},{path:"inserir",component:w},{path:"editar/:id",component:P,resolve:{cirurgia:e=>(0,t.f3M)(f).selecionarCirurgiaPorId(e.paramMap.get("id")),medicos:D.T,pacientes:K.B}}];let B=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#i=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(W),d.Bz]})}return e})();var X=s(6208);let tt=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#i=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({providers:[f,q.O,y.d],imports:[p.ez,B,o.UX,X.m]})}return e})()}}]);