"use strict";(self.webpackChunke_AgendaMedica=self.webpackChunke_AgendaMedica||[]).push([[824],{1824:(at,_,s)=>{s.r(_),s.d(_,{ConsultaModule:()=>X});var h=s(6814),t=s(5879),d=s(3403),c=s(7398),g=s(7700),x=s(1502),l=s(5195),v=s(2296),Z=s(617),C=s(6385);function I(i,u){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider",9),t.TgZ(2,"span",10),t._uU(3,"Paciente:"),t.qZA(),t.TgZ(4,"mat-card")(5,"mat-card-content",11)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA(),t.TgZ(12,"p"),t._uU(13),t.qZA()()()()),2&i){const a=t.oxw();t.xp6(7),t.hij("Nome: ",a.data.registro.pacienteAtributo.nome,""),t.xp6(2),t.hij("Telefone: ",a.data.registro.pacienteAtributo.telefone,""),t.xp6(2),t.hij("E-mail: ",a.data.registro.pacienteAtributo.email,""),t.xp6(2),t.hij("Qtd. Consultas: ",a.data.registro.pacienteAtributo.qtdConsultas,"")}}function E(i,u){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"mat-divider",9),t.TgZ(2,"span",10),t._uU(3,"Medico:"),t.qZA(),t.TgZ(4,"mat-card")(5,"mat-card-content",11)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()()()),2&i){const a=t.oxw();t.xp6(7),t.hij("Nome: ",a.data.registro.medico.nome,""),t.xp6(2),t.hij("Crm: ",a.data.registro.medico.crm,"")}}let L=(()=>{class i{constructor(a,o){this.dialogRef=a,this.data=o}ngOnInit(){this.abrirDialog()}onNoClick(){this.dialogRef.close()}abrirDialog(){const a=new g.vA;a.width="300px",a.maxHeight="637px",this.dialogRef.updateSize(a.width,a.maxHeight)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(g.so),t.Y36(g.WI))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dialog-visualizacao"]],decls:23,vars:7,consts:[[1,"borda-estilizada"],[1,"header"],["mat-card-title","",1,"text-light","mb-0"],[1,"text-light","mb-2"],[1,"mt-2"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"d-flex","px-2"],[1,"me-1"],[1,"mb-3"],[1,"fs-6"],[1,"mini-cards","mt-2"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",3),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider"),t.TgZ(7,"mat-card-content",4)(8,"h3"),t._uU(9),t.qZA(),t.TgZ(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.YNc(14,I,14,4,"div",5),t.YNc(15,E,10,2,"div",5),t.qZA(),t._UZ(16,"mat-divider",4),t.TgZ(17,"mat-card-footer")(18,"div",6)(19,"button",7)(20,"mat-icon",8),t._uU(21,"keyboard_return"),t.qZA(),t._uU(22," Voltar "),t.qZA()()()()),2&o&&(t.xp6(3),t.Oqu(e.data.registro.titulo),t.xp6(2),t.hij("id: ",e.data.registro.id,""),t.xp6(4),t.hij("Data: ",e.data.registro.data,""),t.xp6(2),t.hij("Hora In\xedcio: ",e.data.registro.horaInicio,""),t.xp6(2),t.hij("Hora T\xe9rmino: ",e.data.registro.horaTermino,""),t.xp6(1),t.Q6J("ngIf",null!=e.data.registro.pacienteAtributo||null!=e.data.registro.pacienteAtributo),t.xp6(1),t.Q6J("ngIf",null!=e.data.registro.medico||null!=e.data.registro.medico))},dependencies:[h.O5,l.a8,l.dn,l.rt,l.dk,l.$j,l.n5,v.lW,Z.Hw,C.d,g.ZT,g.H8],styles:[".borda-estilizada[_ngcontent-%COMP%]{border:2px solid #3f51b5}.header[_ngcontent-%COMP%]{background-color:#3f51b5;display:flex;justify-content:center}.mini-cards[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #3f51b5}"]})}return i})();var F=s(3651),N=s(8504),m=s(6306),S=s(9862);let T=(()=>{class i{constructor(a){this.http=a,this.url="https://localhost:7124/api/consulta"}processarErroHttp(a){let o="";return 0==a.error.errors.length?401==a.status?o="O usu\xe1rio n\xe3o est\xe1 autorizado. Fa\xe7a o o login e tente novamente.":400==a.status?o="Falha na requisi\xe7\xe3o do servi\xe7o, verifique se o formulario est\xe1 correto":404==a.status?o="Recurso n\xe3o encontrado":0==a.status?o="Ocorreu um erro ao processar a requisi\xe7\xe3o.":500==a.status&&(o="Ocorreu um erro no servidor."):o=a.error.errors[0],(0,N._)(()=>new Error(o))}inserir(a){return this.http.post(`${this.url}`,a).pipe((0,c.U)(o=>o.dados),(0,m.K)(o=>this.processarErroHttp(o)))}editar(a,o){return this.http.put(`${this.url}/${a}`,o).pipe((0,c.U)(e=>e.dados),(0,m.K)(e=>this.processarErroHttp(e)))}excluir(a){return this.http.delete(`${this.url}/${a}`).pipe((0,m.K)(o=>this.processarErroHttp(o)))}selecionarTodos(){return this.http.get(this.url).pipe((0,c.U)(a=>a.dados),(0,m.K)(a=>this.processarErroHttp(a)))}selecionarConsultaPorId(a){return this.http.get(`${this.url}/${a}`).pipe((0,c.U)(o=>o.dados),(0,m.K)(o=>this.processarErroHttp(o)))}selecionarConsultaCompletaPorId(a){return this.http.get(`${this.url}/visualizacao-completa/${a}`).pipe((0,c.U)(o=>o.dados),(0,m.K)(o=>this.processarErroHttp(o)))}selecionarTodosConsultasParaHoje(){return this.http.get(`${this.url}/consultas-para-hoje`).pipe((0,c.U)(a=>a.dados),(0,m.K)(a=>this.processarErroHttp(a)))}selecionarConsultasFuturas(){return this.http.get(`${this.url}/consultas-futuras`).pipe((0,c.U)(a=>a.dados),(0,m.K)(a=>this.processarErroHttp(a)))}selecionarConsultasPassadas(){return this.http.get(`${this.url}/consultas-passadas`).pipe((0,c.U)(a=>a.dados),(0,m.K)(a=>this.processarErroHttp(a)))}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(S.eN))};static#a=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var A=s(2425),J=s(2596);let H=(()=>{class i{constructor(){this.onEnviarConsulta=new t.vpe,this.onEnviarConsultaVisualizacao=new t.vpe}excluir(a){this.onEnviarConsulta.emit(a)}visualizar(a){this.onEnviarConsultaVisualizacao.emit(a)}static#t=this.\u0275fac=function(o){return new(o||i)};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-card"]],inputs:{consulta:"consulta"},outputs:{onEnviarConsulta:"onEnviarConsulta",onEnviarConsultaVisualizacao:"onEnviarConsultaVisualizacao"},decls:22,vars:4,consts:[[1,"mt-4"],[1,"borda"],["mat-card-title","",1,"fs-3"],[1,"fw-semibold","fs-6"],[1,"mt-3"],[1,"ms-auto","fw-semibold","text-muted"],[1,"d-flex","justify-content-between"],["mat-icon-button","","color","accent","matTooltip","visualizar consulta",3,"click"],["mat-icon-button","","color","primary","matTooltip","editar consulta",3,"routerLink"],["mat-icon-button","","color","primary","matTooltip","excluir consulta",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle",3),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-content",4)(7,"h4",5),t._uU(8),t.qZA()(),t._UZ(9,"mat-divider",4),t.TgZ(10,"mat-card-actions",6)(11,"div")(12,"button",7),t.NdJ("click",function(){return e.visualizar(e.consulta)}),t.TgZ(13,"mat-icon"),t._uU(14,"visibility"),t.qZA()()(),t.TgZ(15,"div")(16,"button",8)(17,"mat-icon"),t._uU(18,"edit"),t.qZA()(),t.TgZ(19,"button",9),t.NdJ("click",function(){return e.excluir(e.consulta)}),t.TgZ(20,"mat-icon"),t._uU(21,"delete"),t.qZA()()()()()),2&o&&(t.xp6(3),t.Oqu(e.consulta.titulo),t.xp6(2),t.hij("Data: ",e.consulta.data,""),t.xp6(3),t.hij("Horario de incio: ",e.consulta.horaInicio,""),t.xp6(8),t.MGl("routerLink","/consultas/editar/",e.consulta.id,""))},dependencies:[d.rH,l.a8,l.hq,l.dn,l.dk,l.$j,l.n5,v.RK,Z.Hw,C.d,J.gM],styles:[".borda[_ngcontent-%COMP%]{background:rgb(255,255,255);background:radial-gradient(circle,rgb(255,255,255) 5%,rgb(175,183,255) 80%);padding-left:7%;padding-bottom:3%;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:1px solid rgb(30,0,48)}"]})}return i})();function M(i,u){if(1&i){const a=t.EpF();t.TgZ(0,"div",10)(1,"app-card",11),t.NdJ("onEnviarConsultaVisualizacao",function(e){t.CHM(a);const n=t.oxw();return t.KtG(n.visualizar(e))})("onEnviarConsulta",function(e){t.CHM(a);const n=t.oxw();return t.KtG(n.excluir(e))}),t.qZA()()}if(2&i){const a=u.$implicit;t.xp6(1),t.Q6J("consulta",a)}}let j=(()=>{class i{constructor(a,o,e,n,b){this.overlay=a,this.consultaService=o,this.toastrService=e,this.route=n,this.dialog=b}ngOnInit(){this.consultas$=this.route.data.pipe((0,c.U)(a=>a.consultas))}visualizar(a){const o=new g.vA;o.scrollStrategy=this.overlay.scrollStrategies.block(),this.consultaService.selecionarConsultaCompletaPorId(a.id).subscribe(e=>{o.data={registro:e},this.dialog.open(L,o)})}excluir(a){this.dialog.open(x.r,{data:{registro:a.titulo}}).afterClosed().subscribe(e=>{1==e&&this.consultaService.excluir(a.id).subscribe({next:()=>this.processarSucessoExclusao(),error:n=>this.processarFalhaExclusao(n)})})}selecionarTodas(){this.consultas$=this.consultaService.selecionarTodos()}selecionarParaHoje(){this.consultas$=this.consultaService.selecionarTodosConsultasParaHoje()}selecionarFuturas(){this.consultas$=this.consultaService.selecionarConsultasFuturas()}selecionarPassadas(){this.consultas$=this.consultaService.selecionarConsultasPassadas()}processarSucessoExclusao(){this.toastrService.success("Consulta excluida com sucesso","Exclus\xe3o"),this.consultas$=this.consultaService.selecionarTodos()}processarFalhaExclusao(a){this.toastrService.error(a.message,"Error")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(F.aV),t.Y36(T),t.Y36(A._W),t.Y36(d.gz),t.Y36(g.uw))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-listar-consulta"]],decls:31,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-10","col-lg-9","mx-auto","mt-5"],[1,"text-md-start"],[1,"fw-bold"],[1,"d-grid","d-md-flex","gap-1"],["routerLink","/consultas/inserir","color","primary","mat-raised-button",""],["color","primary","mat-raised-button","",3,"click"],[1,"row","g-3"],["class","col-md-8 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-8","col-lg-4"],[3,"consulta","onEnviarConsultaVisualizacao","onEnviarConsulta"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Listar Consulta"),t.qZA(),t._UZ(6,"hr"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6)(9,"mat-icon"),t._uU(10,"add"),t.qZA(),t._uU(11," Nova Consulta "),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return e.selecionarTodas()}),t.TgZ(13,"mat-icon"),t._uU(14,"format_align_justify"),t.qZA(),t._uU(15," Todas "),t.qZA(),t.TgZ(16,"button",7),t.NdJ("click",function(){return e.selecionarPassadas()}),t.TgZ(17,"mat-icon"),t._uU(18,"today"),t.qZA(),t._uU(19," Passadas "),t.qZA(),t.TgZ(20,"button",7),t.NdJ("click",function(){return e.selecionarParaHoje()}),t.TgZ(21,"mat-icon"),t._uU(22,"event_available"),t.qZA(),t._uU(23," Hoje "),t.qZA(),t.TgZ(24,"button",7),t.NdJ("click",function(){return e.selecionarFuturas()}),t.TgZ(25,"mat-icon"),t._uU(26,"event"),t.qZA(),t._uU(27," Futuras "),t.qZA()(),t.TgZ(28,"div",8),t.YNc(29,M,2,1,"div",9),t.ALo(30,"async"),t.qZA()()()()),2&o&&(t.xp6(29),t.Q6J("ngForOf",t.lcZ(30,1,e.consultas$)))},dependencies:[h.sg,d.rH,v.lW,Z.Hw,H,h.Ov]})}return i})();var r=s(6223),k=s(5409),V=s(6412),U=s(2032),p=s(4170),f=s(8034),y=s(3680),q=s(8525);function $(i,u){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const a=u.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.nome," ")}}function w(i,u){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const a=u.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.nome," ")}}let O=(()=>{class i{constructor(a,o,e,n,b,tt){this.formBuilder=a,this.consultaService=o,this.toastrService=e,this.router=n,this.pacienteService=b,this.medicoService=tt,this.floatLabelControl=new r.NI("auto")}ngOnInit(){this.form=this.formBuilder.group({titulo:new r.NI("",[r.kI.required,r.kI.minLength(5)]),paciente_id:new r.NI("",[r.kI.required]),data:new r.NI(new Date,[r.kI.required]),horaInicio:new r.NI("00:00",[r.kI.required]),horaTermino:new r.NI("00:00",[r.kI.required]),id_medico:new r.NI("",[r.kI.required])}),this.medicoService.selecionarTodos().subscribe(a=>this.medicos=a),this.pacienteService.selecionarTodos().subscribe(a=>this.pacientes=a)}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}gravar(){if(this.form?.invalid){for(let e of this.form.validate())this.toastrService.warning(e);return}const a=this.form.get("horaTermino")?.value,o=this.form.get("horaInicio")?.value;this.form.get("horaInicio")?.setValue(`${o}:00`),this.form.get("horaTermino")?.setValue(`${a}:00`),this.consultaService.inserir(this.form?.value).subscribe({next:e=>this.processarSucesso(e),error:e=>this.processarFalha(e)})}processarSucesso(a){this.toastrService.success(`A Consulta "${a.titulo}" cadastrada com sucesso!`,"Sucesso"),this.router.navigate(["/consultas/listar"])}processarFalha(a){this.toastrService.error(a.message,"Erro")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(r.qu),t.Y36(T),t.Y36(A._W),t.Y36(d.F0),t.Y36(k.d),t.Y36(V.O))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-inserir-consulta"]],decls:64,vars:11,consts:[[1,"container"],[1,"w-50","card-estilo"],[1,"d-flex","justify-content-center"],[1,"fw-bold","text-primary"],[1,"espaco-forms",3,"formGroup","ngSubmit"],[1,"espacamento-inputs"],["appearance","outline",1,"w-100","mb-3",3,"floatLabel"],["data-cy","titulo","type","text","matInput","","formControlName","titulo"],["data-cy","selectPaciente","formControlName","paciente_id"],[3,"value",4,"ngFor","ngForOf"],["data-cy","data","readonly","","matInput","","formControlName","data",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["data-cy","horaInicio","type","time","matInput","","formControlName","horaInicio"],["time",""],["data-cy","horaTermino","type","time","matInput","","formControlName","horaTermino"],["data-cy","selectMedico","formControlName","id_medico"],[1,"d-flex","justify-content-end","gap-4","p-3"],["data-cy","btnGravar","mat-raised-button","","type","submit","color","accent",1,"px-3"],[1,"me-2"],["mat-stroked-button","","type","button","color","primary","routerLink","/consultas/listar",1,"px-3"],[3,"value"]],template:function(o,e){if(1&o&&(t.TgZ(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"h1",3),t._uU(4,"Inserir Nova Consulta"),t.qZA()(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return e.gravar()}),t.TgZ(6,"mat-card-content"),t._UZ(7,"mat-divider"),t.TgZ(8,"div",5)(9,"div")(10,"mat-form-field",6)(11,"mat-hint"),t._uU(12,"Titulo"),t.qZA(),t.TgZ(13,"mat-label"),t._uU(14,"Titulo(m\xednimo 5 caracteres)"),t.qZA(),t._UZ(15,"input",7),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",6)(18,"mat-label"),t._uU(19,"Pacientes"),t.qZA(),t.TgZ(20,"mat-select",8),t.YNc(21,$,2,2,"mat-option",9),t.qZA()()(),t.TgZ(22,"div")(23,"mat-form-field",6)(24,"mat-hint"),t._uU(25,"Data"),t.qZA(),t.TgZ(26,"mat-label"),t._uU(27,"DD/MM/AAAA"),t.qZA(),t._UZ(28,"input",10)(29,"mat-datepicker-toggle",11)(30,"mat-datepicker",null,12),t.qZA()(),t.TgZ(32,"div")(33,"mat-form-field",6)(34,"mat-hint"),t._uU(35,"Hora"),t.qZA(),t.TgZ(36,"mat-label"),t._uU(37,"Hor\xe1rio de In\xedcio"),t.qZA(),t._UZ(38,"input",13,14),t.qZA()(),t.TgZ(40,"div")(41,"mat-form-field",6)(42,"mat-hint"),t._uU(43,"Hora"),t.qZA(),t.TgZ(44,"mat-label"),t._uU(45,"Hor\xe1rio de T\xe9rmino"),t.qZA(),t._UZ(46,"input",15,14),t.qZA()(),t.TgZ(48,"div")(49,"mat-form-field",6)(50,"mat-label"),t._uU(51,"Medicos"),t.qZA(),t.TgZ(52,"mat-select",16),t.YNc(53,w,2,2,"mat-option",9),t.qZA()()()(),t._UZ(54,"mat-divider"),t.qZA(),t.TgZ(55,"mat-card-footer",17)(56,"button",18)(57,"mat-icon",19),t._uU(58,"download"),t.qZA(),t._uU(59," Gravar "),t.qZA(),t.TgZ(60,"button",20)(61,"mat-icon",19),t._uU(62,"keyboard_return"),t.qZA(),t._uU(63," Voltar "),t.qZA()()()()()),2&o){const n=t.MAs(31);t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",e.pacientes),t.xp6(2),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(5),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(4),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",e.medicos)}},dependencies:[h.sg,d.rH,l.a8,l.dn,l.rt,l.dk,v.lW,Z.Hw,C.d,U.Nt,p.KE,p.hX,p.bx,p.R9,r._Y,r.Fj,r.JJ,r.JL,f.Mq,f.hl,f.nW,r.sg,r.u,y.ey,q.gD],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.espacamento-inputs[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;padding-top:5%}.card-estilo[_ngcontent-%COMP%]{border:2px solid #3f51b5}"]})}return i})();function Q(i,u){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const a=u.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.nome," ")}}function z(i,u){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const a=u.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.nome," ")}}let P=(()=>{class i{constructor(a,o,e,n,b){this.formBuilder=a,this.consultaService=o,this.toastrService=e,this.router=n,this.route=b,this.floatLabelControl=new r.NI("auto")}ngOnInit(){const a=this.route.data.pipe((0,c.U)(o=>o.consulta));this.medicos=this.route.data.pipe((0,c.U)(o=>o.medicos)),this.pacientes=this.route.data.pipe((0,c.U)(o=>o.pacientes)),this.form=this.formBuilder.group({titulo:new r.NI("",[r.kI.required,r.kI.minLength(5)]),paciente_id:new r.NI("",[r.kI.required]),data:new r.NI(null,[r.kI.required]),horaInicio:new r.NI("00:00",[r.kI.required]),horaTermino:new r.NI("00:00",[r.kI.required]),id_Medico:new r.NI(null,[r.kI.required])}),a.subscribe(o=>this.form.patchValue(o))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}gravar(){if(this.form?.invalid){for(let n of this.form.validate())this.toastrService.warning(n);return}const a=this.form.get("horaTermino")?.value,o=this.form.get("horaInicio")?.value;this.form.get("horaInicio")?.setValue(`${o}:00`),this.form.get("horaTermino")?.setValue(`${a}:00`);const e=this.route.snapshot.paramMap.get("id");this.consultaService.editar(e,this.form?.value).subscribe({next:n=>this.processarSucesso(n),error:n=>this.processarFalha(n)})}processarSucesso(a){this.toastrService.success(`A Consulta "${a.titulo}" alterada com sucesso!`,"Sucesso"),this.router.navigate(["/consultas/listar"])}processarFalha(a){this.toastrService.error(a.message,"Erro")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(r.qu),t.Y36(T),t.Y36(A._W),t.Y36(d.F0),t.Y36(d.gz))};static#a=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-editar-consulta"]],decls:66,vars:15,consts:[[1,"container"],[1,"w-50","card-estilo"],[1,"d-flex","justify-content-center"],[1,"fw-bold","text-primary"],[1,"espaco-forms",3,"formGroup","ngSubmit"],[1,"espacamento-inputs"],["appearance","outline",1,"w-100","mb-3",3,"floatLabel"],["data-cy","titulo","type","text","matInput","","formControlName","titulo"],["data-cy","selectPaciente","formControlName","paciente_id"],[3,"value",4,"ngFor","ngForOf"],["data-cy","data","readonly","","matInput","","formControlName","data",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["data-cy","horaInicio","type","time","matInput","","formControlName","horaInicio"],["time",""],["type","time","matInput","","formControlName","horaTermino"],["data-cy","selectMedico","formControlName","id_Medico"],[1,"d-flex","justify-content-end","gap-4","p-3"],["data-cy","btnGravar","mat-raised-button","","type","submit","color","accent",1,"px-3"],[1,"me-2"],["mat-stroked-button","","type","button","color","primary","routerLink","/consultas/listar",1,"px-3"],[3,"value"]],template:function(o,e){if(1&o&&(t.TgZ(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"h1",3),t._uU(4,"Editar Consulta"),t.qZA()(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return e.gravar()}),t.TgZ(6,"mat-card-content"),t._UZ(7,"mat-divider"),t.TgZ(8,"div",5)(9,"div")(10,"mat-form-field",6)(11,"mat-hint"),t._uU(12,"Titulo"),t.qZA(),t.TgZ(13,"mat-label"),t._uU(14,"Titulo(m\xednimo 5 caracteres)"),t.qZA(),t._UZ(15,"input",7),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",6)(18,"mat-label"),t._uU(19,"Pacientes"),t.qZA(),t.TgZ(20,"mat-select",8),t.YNc(21,Q,2,2,"mat-option",9),t.ALo(22,"async"),t.qZA()()(),t.TgZ(23,"div")(24,"mat-form-field",6)(25,"mat-hint"),t._uU(26,"Data"),t.qZA(),t.TgZ(27,"mat-label"),t._uU(28,"DD/MM/AAAA"),t.qZA(),t._UZ(29,"input",10)(30,"mat-datepicker-toggle",11)(31,"mat-datepicker",null,12),t.qZA()(),t.TgZ(33,"div")(34,"mat-form-field",6)(35,"mat-hint"),t._uU(36,"Hora"),t.qZA(),t.TgZ(37,"mat-label"),t._uU(38,"Hor\xe1rio de In\xedcio"),t.qZA(),t._UZ(39,"input",13,14),t.qZA()(),t.TgZ(41,"div")(42,"mat-form-field",6)(43,"mat-hint"),t._uU(44,"Hora"),t.qZA(),t.TgZ(45,"mat-label"),t._uU(46,"Hor\xe1rio de T\xe9rmino"),t.qZA(),t._UZ(47,"input",15,14),t.qZA()(),t.TgZ(49,"div")(50,"mat-form-field",6)(51,"mat-label"),t._uU(52,"Medicos"),t.qZA(),t.TgZ(53,"mat-select",16),t.YNc(54,z,2,2,"mat-option",9),t.ALo(55,"async"),t.qZA()()()(),t._UZ(56,"mat-divider"),t.qZA(),t.TgZ(57,"mat-card-footer",17)(58,"button",18)(59,"mat-icon",19),t._uU(60,"download"),t.qZA(),t._uU(61," Gravar "),t.qZA(),t.TgZ(62,"button",20)(63,"mat-icon",19),t._uU(64,"keyboard_return"),t.qZA(),t._uU(65," Voltar "),t.qZA()()()()()),2&o){const n=t.MAs(32);t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(7),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",t.lcZ(22,11,e.pacientes)),t.xp6(3),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(5),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(4),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(8),t.Q6J("floatLabel",e.getFloatLabelValue()),t.xp6(4),t.Q6J("ngForOf",t.lcZ(55,13,e.medicos))}},dependencies:[h.sg,d.rH,l.a8,l.dn,l.rt,l.dk,v.lW,Z.Hw,C.d,U.Nt,p.KE,p.hX,p.bx,p.R9,r._Y,r.Fj,r.JJ,r.JL,f.Mq,f.hl,f.nW,r.sg,r.u,y.ey,q.gD,h.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.espacamento-inputs[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;padding-top:5%}.card-estilo[_ngcontent-%COMP%]{border:2px solid #3f51b5}"]})}return i})();var Y=s(8269),D=s(2954);const R=[{path:"",redirectTo:"listar",pathMatch:"full"},{path:"listar",component:j,resolve:{consultas:()=>(0,t.f3M)(T).selecionarTodos()}},{path:"inserir",component:O},{path:"editar/:id",component:P,resolve:{consulta:i=>(0,t.f3M)(T).selecionarConsultaPorId(i.paramMap.get("id")),medicos:Y.T,pacientes:D.B}}];let W=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#a=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(R),d.Bz]})}return i})();var B=s(6208);let X=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#a=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[h.ez,W,B.m]})}return i})()}}]);